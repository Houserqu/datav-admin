(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{a4KE:function(e,t,a){"use strict";a.r(t);a("Mwp2");var n,r,s,i,c,o,l=a("VXEj"),u=a("2Taf"),m=a.n(u),d=a("vZ4D"),p=a.n(d),g=a("l4Ni"),h=a.n(g),f=a("ujKo"),b=a.n(f),E=a("MhPg"),w=a.n(E),M=a("q1tI"),v=a.n(M),y=a("LLXN"),k=a("MuoO"),C=(a("2qtc"),a("kLXV")),D=(a("14J3"),a("BMrR")),j=(a("+L6B"),a("2/Rp")),O=(a("jCWc"),a("kPKH")),P=a("p0pE"),S=a.n(P),V=a("d6i3"),F=a.n(V),q=a("1l/V"),N=a.n(q),z=(a("5NDa"),a("5rEg")),I=(a("y8nQ"),a("Vl3Y")),L=I["a"].Item,G=z["a"].Group,J=(n=I["a"].create(),n((s=function(e){function t(){var e,a;m()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=h()(this,(e=b()(t)).call.apply(e,[this].concat(r))),a.state={count:0},a.onGetCaptcha=N()(F.a.mark(function e(){return F.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),a.handleSubmit=function(){var e=a.props,t=e.form,n=e.submit;t.validateFields(function(e,t){console.log(t),e||n(S()({},t,{password2:t.password}))})},a}return w()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.form.getFieldDecorator,n=e.onCancel,r=this.state.count;return v.a.createElement(C["a"],{title:"\u4fee\u6539\u5bc6\u7801",visible:t,onOk:this.handleSubmit,onCancel:n},v.a.createElement(I["a"],null,v.a.createElement(L,null,a("password",{rules:[{required:!0}]})(v.a.createElement(z["a"],{size:"large",placeholder:"\u65b0\u5bc6\u7801"}))),v.a.createElement(L,null,v.a.createElement(G,{compact:!0},a("phone",{rules:[{required:!0,message:Object(y["formatMessage"])({id:"validation.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(y["formatMessage"])({id:"validation.phone-number.wrong-format"})}]})(v.a.createElement(z["a"],{size:"large",placeholder:Object(y["formatMessage"])({id:"form.phone-number.placeholder"})})))),v.a.createElement(L,null,v.a.createElement(D["a"],{gutter:8},v.a.createElement(O["a"],{span:16},a("checkCode",{rules:[{required:!0,message:Object(y["formatMessage"])({id:"validation.verification-code.required"})}]})(v.a.createElement(z["a"],{size:"large",placeholder:Object(y["formatMessage"])({id:"form.verification-code.placeholder"})}))),v.a.createElement(O["a"],{span:8},v.a.createElement(j["a"],{size:"large",disabled:r,style:{width:"100%"},onClick:this.onGetCaptcha},r?"".concat(r," s"):Object(y["formatMessage"])({id:"app.register.get-verification-code"})))))))}}]),t}(M["Component"]),r=s))||r),K=J,W={strong:v.a.createElement("font",{className:"strong"},v.a.createElement(y["FormattedMessage"],{id:"app.settings.security.strong",defaultMessage:"Strong"})),medium:v.a.createElement("font",{className:"medium"},v.a.createElement(y["FormattedMessage"],{id:"app.settings.security.medium",defaultMessage:"Medium"})),weak:v.a.createElement("font",{className:"weak"},v.a.createElement(y["FormattedMessage"],{id:"app.settings.security.weak",defaultMessage:"Weak"}),"Weak")},X=(i=Object(k["connect"])(function(e){var t=e.user;return{user:t}}),i((o=function(e){function t(){var e,a;m()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=h()(this,(e=b()(t)).call.apply(e,[this].concat(r))),a.state={changePDVisible:!1},a.showChangePD=function(){a.setState({changePDVisible:!a.state.changePDVisible})},a.getData=function(){return[{title:Object(y["formatMessage"])({id:"app.settings.security.password"},{}),description:v.a.createElement(M["Fragment"],null,Object(y["formatMessage"])({id:"app.settings.security.password-description"}),"\uff1a",W.strong),actions:[v.a.createElement("a",{onClick:a.showChangePD},v.a.createElement(y["FormattedMessage"],{id:"app.settings.security.modify",defaultMessage:"Modify"}))]},{title:Object(y["formatMessage"])({id:"app.settings.security.phone"},{}),description:"".concat(Object(y["formatMessage"])({id:"app.settings.security.phone-description"},{}),"\uff1a").concat(a.props.user.currentUser.phone),actions:[v.a.createElement("a",null)]}]},a.handleSubmitChangePD=function(e){a.props.dispatch({type:"user/changePwdDoSet",payload:e,callback:function(e){200===e.statusCode&&a.setState({changePDVisible:!1})}})},a}return w()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.state.changePDVisible;return v.a.createElement(M["Fragment"],null,v.a.createElement(l["a"],{itemLayout:"horizontal",dataSource:this.getData(),renderItem:function(e){return v.a.createElement(l["a"].Item,{actions:e.actions},v.a.createElement(l["a"].Item.Meta,{title:e.title,description:e.description}))}}),v.a.createElement(K,{visible:t,submit:this.handleSubmitChangePD,onCancel:function(){return e.setState({changePDVisible:!1})}}))}}]),t}(M["Component"]),c=o))||c);t["default"]=X}}]);