(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{J7ER:function(e,a,t){e.exports={toolbox:"antd-pro-business-component-design-top-bar-index-toolbox"}},WcJm:function(e,a,t){e.exports={menuItemName:"antd-pro-business-component-component-selector-index-menuItemName",categoryCom:"antd-pro-business-component-component-selector-index-categoryCom",img:"antd-pro-business-component-component-selector-index-img"}},syvJ:function(e,a,t){"use strict";t.r(a);var n,o,i,l,r,c,s=t("2Taf"),d=t.n(s),p=t("vZ4D"),m=t.n(p),u=t("l4Ni"),g=t.n(u),h=t("ujKo"),y=t.n(h),f=t("MhPg"),v=t.n(f),E=(t("B9cy"),t("Ol7k")),C=t("q1tI"),k=t.n(C),b=t("MuoO"),w=(t("IzEo"),t("bx4M")),N=(t("Pwec"),t("CtXQ")),x=(t("Znn+"),t("ZTPi")),D=(t("lUTK"),t("BvKs")),S=t("WcJm"),A=t.n(S),R=D["a"].SubMenu,J=(x["a"].TabPane,N["a"].createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1190524_3e225juc93t.js"})),L=function(e){function a(){var e,t;d()(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=g()(this,(e=y()(a)).call.apply(e,[this].concat(o))),t.state={collapsed:!1},t.handleSelectCom=function(e){t.props.onAddCom(e)},t}return v()(a,e),m()(a,[{key:"render",value:function(){var e=this,a=(this.state.collapsed,this.props),t=a.loading,n=void 0===t?"":t,o=a.data,i=void 0===o?[]:o;return k.a.createElement(D["a"],{mode:"vertical",loading:n.toString()},i.map(function(a){return k.a.createElement(R,{key:a.id,title:k.a.createElement("span",{style:{marginLeft:"-8px"}},k.a.createElement(J,{type:a.icon,style:{fontSize:30}}))},k.a.createElement(D["a"].Item,{style:{height:"fit-content"}},k.a.createElement(w["a"],null,a.components.map(function(a){return k.a.createElement(w["a"].Grid,{className:A.a.categoryCom,key:a.id,onClick:function(){return e.handleSelectCom(a.id)}},k.a.createElement("img",{style:{width:240},alt:"example",src:a.thumb}),k.a.createElement("p",null,a.name))}))))}))}}]),a}(C["Component"]),M=L,O=(t("T2oS"),t("W9HT")),P=(t("+L6B"),t("2/Rp")),B=t("usdK"),I=t("J7ER"),T=t.n(I),j=P["a"].Group,K=(n=Object(b["connect"])(function(e){var a=e.design,t=e.loading;return{design:a,detailLoading:t.effects["design/fetchAppDetail"]}}),n((i=function(e){function a(){var e,t;d()(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=g()(this,(e=y()(a)).call.apply(e,[this].concat(o))),t.handleSave=function(){var e=t.props.dispatch;e({type:"design/saveDesignJSON"})},t.handleReset=function(){var e=t.props.dispatch;e({type:"design/resetDesign"})},t.handleBack=function(){B["a"].goBack()},t.handlePreview=function(){var e=t.props.design.appDetail.id;e&&window.open("/#/visitor/app/".concat(e),"_blank")},t.handleDelCom=function(){var e=t.props,a=e.dispatch,n=e.design.activeCom;a({type:"design/delCom",payload:{id:n.id}})},t.handleOpenDataManager=function(){t.props.dispatch({type:"design/toggleDataManager",payload:!0})},t}return v()(a,e),m()(a,[{key:"render",value:function(){var e=this.props,a=e.detailLoading,t=e.design,n=t.appDetail,o=void 0===n?{}:n,i=t.activeCom,l=i&&"page"!==i.type;return k.a.createElement("div",null,a?k.a.createElement(O["a"],null):o&&k.a.createElement("div",{className:T.a.toolbox},k.a.createElement("div",{className:T.a.tools},k.a.createElement(j,null,k.a.createElement(P["a"],{disabled:!l,onClick:this.handleDelCom},k.a.createElement(N["a"],{type:"delete"})))),k.a.createElement("div",{className:T.a.action},k.a.createElement(P["a"],{style:{marginRight:15},type:"primary",onClick:this.handlePreview},"\u9884\u89c8"),k.a.createElement(P["a"],{style:{marginRight:15},type:"primary",onClick:this.handleOpenDataManager},"\u6570\u636e\u7ba1\u7406"),k.a.createElement(P["a"],{style:{marginRight:15},type:"primary",onClick:this.handleSave},"\u4fdd\u5b58"),k.a.createElement(P["a"],{style:{marginRight:15},onClick:this.handleBack},"\u8fd4\u56de"),k.a.createElement(P["a"],{type:"danger",onClick:this.handleReset},"\u91cd\u7f6e"))))}}]),a}(C["Component"]),o=i))||o),W=K,Z=t("3Vq8"),_=t.n(Z),q=E["a"].Header,z=E["a"].Sider,G=E["a"].Content,H=(l=Object(b["connect"])(function(e){var a=e.design,t=e.loading;return{design:a,categoryLoading:t.effects["design/fetchCategoryComponents"],detailLoading:t.effects["design/fetchAppDetail"]}}),l((c=function(e){function a(){var e,t;d()(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=g()(this,(e=y()(a)).call.apply(e,[this].concat(o))),t.state={a:2},t.handleAddCom=function(e){var a=t.props.dispatch;a({type:"design/addCom",payload:{id:e}})},t}return v()(a,e),m()(a,[{key:"render",value:function(){var e=this.props,a=e.design.categoryComponents,t=e.categoryLoading,n=e.children;return k.a.createElement("div",null,k.a.createElement(E["a"],{className:_.a.layout},k.a.createElement(z,{className:_.a.sider,style:{width:"150px"},collapsed:!0},k.a.createElement("div",{className:_.a.logo},k.a.createElement("img",{src:"/icons/logo.png",alt:"datav"})),k.a.createElement(M,{data:a,loading:t,onAddCom:this.handleAddCom})),k.a.createElement(E["a"],null,k.a.createElement(q,{className:_.a.header},k.a.createElement(W,null)),k.a.createElement(G,{className:_.a.content},n))))}}]),a}(C["PureComponent"]),r=c))||r);a["default"]=H}}]);